install.packages("tidyverse")
library(tidyverse)
groundwater <- read_csv("data/measurements.csv")
setwd("/Users/reibertoldi/Documents/UBC/EOSC 510/Final Project")
setwd("/Users/reibertoldi/Documents/UBC/EOSC 510/Final Project/")
groundwater <- read_csv("data/measurements.csv")
head(groundwater)
stations <- read_csv("stations.csv")
stations <- read_csv("data/stations.csv")
View(stations)
head(stations)
ggplot(stations) +
geom_point(aes(x = lat, y = long))
View(stations)
ggplot(stations) +
geom_point(aes(x = latitude, y = longitude))
ggplot(stations) +
geom_point(aes(x = longitude, y = latitude))
ggplot(stations) +
geom_point(aes(x = latitude, y = longitude))
ggplot(stations) +
geom_point(aes(x = longitude, y = latitude))
View(groundwater)
unique(groundwater$site_code)
gw_id <- unique(groundwater$site_code)
rm(gw_id)
merge_df <- left_join(groundwater, stations, by = "site_code")
groundwater %>%
filter(is.na(site_code))
len(unique(groundwater$site_code))
length(unique(groundwater$site_code))
length(unique(stations$site_code))
merge_df %>% filter(is.na(site_code))
# 1282 stations not in stations (we dont have the locations for these?)
length(unique(merge_df$site_code))
groundwater %>% group_by(site_code) %>% summarise(count = n())
temp <- groundwater %>% group_by(site_code) %>% summarise(count = n())
View(temp)
temp %>%
ggplot() +
geom_histogram(aes(x = count),
stat = "identity")
density(temp$count)
plot(d)
d <- density(temp$count)
plot(d)
monthly <- read_csv("data/gwl-monthly.csv")
View(monthly)
View(temp)
View(temp)
one_station <- groundwater %>%
filter(site_code == "344644N1192081W001")
View(one_station)
ggplot(one_station) +
geom_line(aes(x = msmt_date, y = gwe))
daily <- read_csv("data/gwl-daily.csv")
View(daily)
View(temp)
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001")
ggplot(one_station2) +
geom_line(aes(x = msmt_date, y = gwe))
View(one_station2)
View(one_station)
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001") %>%
group_by(msmt_date) %>%
summarise(gwe = mean(gwe))
View(one_station2)
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001") %>%
mutate(msmt_date = myd(msmt_date))
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001") %>%
mutate(msmt_date = myd(msmt_date))
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001") %>%
mutate(msmt_date = ymd(msmt_date))
library(lubridate)
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001") %>%
mutate(msmt_date = ymd(msmt_date))
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001") %>%
mutate(msmt_date = as.POSIXct(msmt_date, format = "%m/%d/%Y"))
ggplot(stations) +
geom_point(aes(x = longitude, y = latitude))
length(unique(groundwater$site_code))
length(unique(stations$site_code))
filter(groundwater, is.na(gwe))
filter(groundwater, !is.na(gwe))
filter(groundwater, is.na(gwe))
nrow(filter(groundwater, is.na(gwe)))
View(groundwater)
View(temp)
View(merge_df)
ggplot(one_station) +
geom_line(aes(x = msmt_date, y = gwe))
one_station2 <- groundwater %>%
filter(site_code == "344554N1192085W001")
ggplot(one_station2) +
geom_line(aes(x = msmt_date, y = gwe))
groundwater <- read_csv("data/measurements.csv")
stations <- read_csv("data/stations.csv")
ggplot(stations) +
geom_point(aes(x = longitude, y = latitude))
merge_df <- left_join(groundwater, stations, by = "site_code")
View(groundwater)
View(merge_df)
library(lubridate)
merge_df %>%
mutate(msmt_date = as.Date.POSIXct(msmt_date, "%Y-%m-%d"))
merge_df %>%
mutate(msmt_date = ymd(msmt_date))
merge_df %>%
mutate(msmt_date = as.POSIXct(msmt_date,format = "%m/%d/%Y"))
merge_df <- merge_df %>%
mutate(msmt_date_mdy = as.POSIXct(msmt_date,format = "%m/%d/%Y"))
merge_df <- merge_df %>%
mutate(msmt_date_mdy = as.POSIXct(msmt_date,format = "%m/%d/%Y"))
count_stations <- merge_df %>%
group_by(site_code) %>%
summarise(count = n())
View(count_stations)
count_stations <- merge_df %>%
group_by(site_code) %>%
summarise(count = n()) %>%
filter(count >= 1000)
View(count_stations)
count_stations <- merge_df %>%
group_by(site_code) %>%
summarise(count = n()) %>%
filter(count >= 1000) %>%
unique(count_stations$site_code)
stations_use <- unique(count_stations$site_code)
merge_df %>%
filter(site_code %in% stations_use)
merge_use <- merge_df %>%
filter(site_code %in% stations_use)
View(merge_use)
merge_use %>%
group_by(site_code) %>%
summarise(min = min(msmt_date_mdy),
max = max(msmt_date_mdy))
explore_dates <- merge_use %>%
group_by(site_code) %>%
summarise(min = min(msmt_date_mdy),
max = max(msmt_date_mdy))
View(explore_dates)
View(daily)
daily %>%
group_by(STATION) %>%
summarise(count = n())
daily_station_count <- daily %>%
group_by(STATION) %>%
summarise(count = n())
View(daily_station_count)
daily %>%
mutate(msmt_date_mdy = as.POSIXct(MSMT_DATE,format = "%m/%d/%Y")) %>%
nrow(filter(groundwater, is.na(gwe)))
daily %>%
mutate(msmt_date_mdy = as.POSIXct(MSMT_DATE,format = "%m/%d/%Y"))
daily %>%
mutate(msmt_date_mdy = as.POSIXct(MSMT_DATE,format = "%m/%d/%Y")) %>%
group_by(STATION) %>%
summarise(min = min(msmt_date_mdy),
max = max(msmt_date_mdy))
explore_dates_daily <- daily %>%
mutate(msmt_date_mdy = as.POSIXct(MSMT_DATE,format = "%m/%d/%Y")) %>%
group_by(STATION) %>%
summarise(min = min(msmt_date_mdy),
max = max(msmt_date_mdy))
View(explore_dates_daily)
explore_dates_daily <- daily %>%
mutate(msmt_date_mdy = as.POSIXct(MSMT_DATE,format = "%m/%Y"))
View(explore_dates_daily)
library(tidyverse)
library(lubridate)
setwd("/Users/reibertoldi/Documents/UBC/EOSC 510/Final Project/")
head(groundwater)
head(stations)
ggplot(stations) +
geom_point(aes(x = longitude, y = latitude))
View(explore_dates_daily)
explore_dates_daily <- daily %>%
mutate(msmt_date_mdy = format(as.Date(), "%Y-%m"))
explore_dates_daily <- daily %>%
mutate(msmt_date_mdy = format(as.Date(MSMT_DATE), "%Y-%m"))
View(explore_dates_daily)
daily_station_count <- daily %>%
group_by(STATION) %>%
summarise(count = n())
View(daily_station_count)
